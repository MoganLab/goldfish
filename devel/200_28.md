# [200_26] 提取内部桥接 helper，统一 (scheme char) 的 method_or_bust 语义

## 任务相关的代码文件
- src/s7.c
- src/s7_internal_helpers.h
- src/s7_scheme_char.c
- tests/goldfish/scheme/char-test.scm
- devel/200_26.md

## 如何测试
```
xmake b goldfish
bin/goldfish tests/goldfish/scheme/char-test.scm
```

## 2026/02/28 统一 (scheme char) 方法分派错误语义（missing-method / wrong-type-arg）
### What
为避免 `s7_scheme_char.c` 复制 `method_or_bust` 逻辑导致语义漂移，本次改动将字符模块改为复用 `s7.c` 内部语义：
1. 新增内部头文件 `src/s7_internal_helpers.h`，声明桥接函数：
   - `s7i_method_or_bust`
   - `s7i_method_or_bust_bool`
2. 在 `src/s7.c` 中新增桥接实现，内部直接调用原有 `method_or_bust`，确保行为与核心实现一致
3. 在 `src/s7_scheme_char.c` 中删除本地 `method_or_bust/method_or_bust_bool`，改为统一调用 `s7i_*` 桥接函数
4. 在 `tests/goldfish/scheme/char-test.scm` 增加回归测试，覆盖 openlet 对象参与字符相关调用时的异常语义
